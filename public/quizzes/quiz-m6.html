<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quizzes - M.6</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="../js/attempts-client.js"></script>
  <script>const QUIZ_STARTED_AT = Date.now();</script>
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen flex flex-col">
  <!-- Header -->
  <header class="bg-blue-900 text-white py-6 shadow">
    <div class="container mx-auto flex justify-between items-center px-6">
      <h1 class="text-2xl font-bold">English Adjuster</h1>
      <nav>
        <a href="../index.html" class="mr-4 hover:text-yellow-300">Home</a>
        <a href="../lessons/lessons.html" class="mr-4 hover:text-yellow-300">Lessons</a>
        <a href="quiz.html" class=" hover:text-yellow-300">Quizzes</a>
        <a href="../profile.html" class="text-3xl text-yellow-300">ðŸ‘¤</a>
      </nav>
    </div>
  </header>
  
  <!-- Main -->
  <main class="container mx-auto px-6 py-12 flex-grow">
      <section class="text-center mb-12">
          <h2 class="text-4xl font-bold text-blue-900 mb-4">Choose Your M.6 Quizzes</h2>
          <p class="text-lg text-gray-700">Challenge yourself with quizzes that focus on advanced grammar, writing, and academic vocabulary.</p>
        </section>
        
        <section class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
       <div class="bg-white p-6 rounded-lg shadow hover:shadow-md transition">
         <h3 class="text-xl font-bold text-blue-800 mb-2">Idioms in Conversation</h3>
         <p class="mb-4">Test your understanding of idiomatic expressions commonly used in spoken English.</p>
         <a href="quiz-idioms.html" class="inline-block bg-blue-700 text-white px-4 py-2 rounded hover:bg-blue-800">Start</a>
       </div>
      
      <div class="bg-white p-6 rounded-lg shadow hover:shadow-md transition">
        <h3 class="text-xl font-bold text-blue-800 mb-2">Subject-Verb Agreement</h3>
        <p class="mb-4">Ensure your subjects and verbs always match in number and person through targeted practice.</p>
        <a href="quiz-sva.html" class="inline-block bg-blue-700 text-white px-4 py-2 rounded hover:bg-blue-800">Start</a>
      </div>

      <div class="bg-white p-6 rounded-lg shadow hover:shadow-md transition">
        <h3 class="text-xl font-bold text-blue-800 mb-2">Inversion</h3>
        <p class="mb-4">Practice inversion structures used in formal writing and emphatic expressions.</p>
        <a href="quiz-inversion.html" class="inline-block bg-blue-700 text-white px-4 py-2 rounded hover:bg-blue-800">Start</a>
      </div>

      <div class="bg-white p-6 rounded-lg shadow hover:shadow-md transition">
        <h3 class="text-xl font-bold text-blue-800 mb-2">Linking Words</h3>
        <p class="mb-4">Assess your ability to use linking words for coherence and clarity in writing.</p>
        <a href="quiz-linking-words.html" class="inline-block bg-blue-700 text-white px-4 py-2 rounded hover:bg-blue-800">Start</a>
      </div>

      <div class="bg-white p-6 rounded-lg shadow hover:shadow-md transition">
        <h3 class="text-xl font-bold text-blue-800 mb-2">Essential Vocabulary (Prefix & Suffix)</h3>
        <p class="mb-4">Review important prefixes, suffixes, and academic vocabulary used in formal texts.</p>
        <a href="quiz-essentials-vocab.html" class="inline-block bg-blue-700 text-white px-4 py-2 rounded hover:bg-blue-800">Start</a>
      </div>

      <div class="bg-white p-6 rounded-lg shadow hover:shadow-md transition">
        <h3 class="text-xl font-bold text-blue-800 mb-2">Common Word Roots</h3>
        <p class="mb-4">Enhance your vocabulary by mastering common Latin and Greek word roots.</p>
        <a href="quiz-wordroots.html" class="inline-block bg-blue-700 text-white px-4 py-2 rounded hover:bg-blue-800">Start</a>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-blue-900 text-white text-center py-4">
    <p>&copy; 2025 Smart Learning System. All rights reserved.</p>
  </footer>

  <!-- Back Button -->
  <button onclick="window.history.back()" class="fixed top-4 left-4 text-white text-2xl hover:text-yellow-300 font-bold py-2 px-4 z-50">
    â‡¦
  </button>

<script>
  async function checkAnswers() {
    const form = document.getElementById('quizForm') || document.querySelector('form');
    const answers = form ? form.querySelectorAll('input[type="radio"]:checked') : [];
    const total = (form ? form.querySelectorAll('.bg-white.p-6.rounded-lg.shadow').length : 0) || (form ? form.querySelectorAll('h3').length : 0) || answers.length || 20;
    let score = 0;
    answers.forEach(ans => { if (ans.value === "true") score++; });
    const result = document.getElementById('result');
    if (result) result.innerText = `You got ${score} out of ${total} correct.`;

    try {
      const items = window.__attemptsClient ? window.__attemptsClient.buildItemsFromForm(form) : [];
      await (window.__attemptsClient ? window.__attemptsClient.saveAttempt({
        topic: document.title || "Quizzes - M.6",
        quizType: "topic",
        score,
        total: items.length || total,
        durationSec: Math.floor((Date.now() - (window.QUIZ_STARTED_AT || Date.now())) / 1000),
        startedAt: new Date(window.QUIZ_STARTED_AT || Date.now()).toISOString(),
        items
      }) : Promise.resolve());
      console.log("Attempt saved!");
    } catch (e) {
      console.error("Failed to save attempt:", e);
    }
    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
  }
</script>
</body>
</html>
